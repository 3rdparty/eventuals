#include "stout/event-loop.h"

////////////////////////////////////////////////////////////////////////

namespace stout {
namespace eventuals {

////////////////////////////////////////////////////////////////////////

static EventLoop* loop = new EventLoop();

////////////////////////////////////////////////////////////////////////

EventLoop& EventLoop::Default() {
  return *CHECK_NOTNULL(loop);
}

////////////////////////////////////////////////////////////////////////

EventLoop& EventLoop::Default(EventLoop* replacement) {
  delete CHECK_NOTNULL(loop);
  loop = CHECK_NOTNULL(replacement);
  return Default();
}

////////////////////////////////////////////////////////////////////////

} // namespace eventuals
} // namespace stout

////////////////////////////////////////////////////////////////////////
